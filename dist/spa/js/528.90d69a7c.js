"use strict";(globalThis["webpackChunkmontilla"]=globalThis["webpackChunkmontilla"]||[]).push([[528],{7528:(e,l,a)=>{a.r(l),a.d(l,{default:()=>q});var s=a(9835);const t={class:"q-ma-lg"},o=(0,s._)("div",{class:"text-h5"}," Registro de Seguidores ",-1);function n(e,l,a,n,r,d){const u=(0,s.up)("q-input"),i=(0,s.up)("q-select"),c=(0,s.up)("q-btn"),m=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",t,[o,(0,s.Wm)(m,{bordered:"",class:"my-card q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{modelValue:e.cedula,"onUpdate:modelValue":l[0]||(l[0]=l=>e.cedula=l),dense:e.dense,class:"q-ma-md",label:"Cédula",type:"number",onBlur:e.getSeguidor},null,8,["modelValue","dense","onBlur"]),(0,s.Wm)(u,{modelValue:e.nombres,"onUpdate:modelValue":l[1]||(l[1]=l=>e.nombres=l),dense:e.dense,class:"q-ma-md",label:"Nombres",type:"text"},null,8,["modelValue","dense"]),(0,s.Wm)(u,{modelValue:e.celular,"onUpdate:modelValue":l[2]||(l[2]=l=>e.celular=l),dense:e.dense,class:"q-ma-md",label:"Celular",type:"phone",hint:e.wh,onBlur:e.getStateWH},null,8,["modelValue","dense","hint","onBlur"]),(0,s.Wm)(i,{outlined:"",modelValue:e.vereda,"onUpdate:modelValue":l[3]||(l[3]=l=>e.vereda=l),options:e.veredas,"option-value":"id","option-label":"nombre",label:"Seleccionar Vereda",class:"q-ma-md"},null,8,["modelValue","options"]),(0,s.Wm)(c,{color:"primary",label:"Guardar Seguidor",class:"q-ma-md",onClick:e.saveSeguidor},null,8,["onClick"])])),_:1})])}var r=a(499),d=a(4136),u=a(9302);const i=(0,s.aZ)({name:"RegistroPage",setup(){const e=u.Z,l=(0,r.iH)([]),a=(0,r.iH)(null),s=(0,r.iH)(null),t=(0,r.iH)(null),o=(0,r.iH)(null),n=(0,r.iH)("");return{$q:e,veredas:l,cedula:a,nombres:s,celular:t,vereda:o,wh:n}},mounted(){this.getVeredas()},methods:{getStateWH(){const e={celular:this.celular};d.api.post("getStateWH",e).then((e=>{const l=e.data;console.log(l),"error"===l.status?this.wh="Este número no es una linea de Whatsapp":this.wh=""})).catch((e=>{console.log(e)}))},getSeguidor(){const e={cedula:this.cedula};d.api.post("getSeguidor",e).then((e=>{const l=e.data;l.error?(this.nombres=null,this.celular=null,this.vereda=null):(this.nombres=l.data.results[0].nombres,this.celular=l.data.results[0].celular,this.vereda={id:l.data.results[0].id,nombre:l.data.results[0].nombre})})).catch((e=>{console.log(e)}))},saveSeguidor(){if(null==this.cedula||""===this.cedula||null==this.nombres||""===this.nombres||null==this.celular||""===this.celular||null==this.vereda.id||""===this.vereda.id)return void this.$q.notify({message:"Todos los datos son obligatorios",color:"red"});const e=localStorage.getItem("user"),l=JSON.parse(e),a=l.cedula,s={cedula:this.cedula,nombres:this.nombres,celular:this.celular,vereda:this.vereda,colaborador:a};d.api.post("saveSeguidor",s).then((e=>{const l=e.data;l.error?this.$q.notify({message:l.message,color:"red"}):(this.$q.notify({message:l.message,color:"green"}),this.cedula=null,this.nombres=null,this.celular=null,this.vereda=null)})).catch((e=>{console.log(e)}))},getVeredas(){d.api.post("getVeredas").then((e=>{const l=e.data;this.veredas=l.data.results})).catch((e=>{console.log(e)}))}}});var c=a(1639),m=a(4458),h=a(6611),g=a(6394),p=a(4455),b=a(9984),v=a.n(b);const V=(0,c.Z)(i,[["render",n]]),q=V;v()(i,"components",{QCard:m.Z,QInput:h.Z,QSelect:g.Z,QBtn:p.Z})}}]);